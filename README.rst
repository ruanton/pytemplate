myproj
======

Scaffolding from this template (remove this section afterwards)
---------------------------------------------------------------

Note: this template is generated by Cookiecutter 2.0.2 and modified by me.

- Search and replace name stubs in all config files, directory and file names.

    - myproj
    - myscript
    - my_view
    - mytemplate
    - author_name
    - author_email
    - AppRootModel

- Edit configuration in ``pyproject.toml``, ``*.ini``, ``requirements.txt`` and ``requirements-*.txt``.

    - classifiers
    - dependencies
    - optional-dependencies

- Set initial version number in ``VERSION`` and ``CHANGES.rst`` files.

Getting Started
---------------

- Change directory into this project if not already there. Your
  current directory should be the same as this ``README.rst`` file and ``pyproject.toml``.
  Create a Python virtual environment, if not already created::

    python3 -m venv env

- Upgrade packaging tools::

    ./venv/bin/pip install --upgrade pip setuptools build

- Install and update libraries::

    ./venv/bin/pip install -U -r requirements.txt
    ./venv/bin/pip install -U -r requirements-*.txt

- Install the project in editable mode::

    ./venv/bin/pip install -e .

  or::

    ./venv/bin/pip install -e ".[testing]"

- Create directory for ZODB::

    mkdir zodb-data

- Create configuration files from samples::

    cp config/samples/production.ini.sample config/production.ini
    cp config/samples/development.ini.sample config/development.ini
    cp config/samples/testing.ini.sample config/testing.ini

- Run project's tests::

    ./venv/bin/pytest
    ./venv/bin/pytest --cov --cov-report=term-missing

- Run project's custom console script::

    ./venv/bin/myscript config/production.ini

- Run project's webserver::

    ./venv/bin/pserve config/production.ini

  or::

    ./venv/bin/pserve config/development.ini --reload

- Example bash command to run via cron::

    ps aux | grep -v grep | grep -q production.ini || /root/myproj/venv/bin/myscript /root/myproj/config/production.ini >>/root/myscript.log 2>&1 &

